
.. _config-description:

Описание параметров конфигурационного файла ноды
====================================================

Конфигурационный файл ноды содержит основные настройки для работы блокчейна Vostok. В состав файла входят следующие секции:

* ``vostok`` - общая секция, куда входят все секции настройки блокчейна.
* ``blockchain`` - настройка основных параметров блокчейна.
* ``network`` - сетевые настройки.
* ``wallet`` - настройка доступа к закрытым ключам ноды.
* ``miner`` - настройка майнинга.
* ``rest-api`` - настройка REST API.
* ``synchronization`` - настройка синхронизации ноды с блокчейном.
* ``utx`` - настройка хранилища неавторизованных транзакций.
* ``features`` - настройка дополнительных параметров ноды.
* ``transaction-rebroadcaster`` - настройка повторной отправки транзакций в блокчейн.
* ``docker-engine`` - настройка Docker смарт-контрактов.

.. _vostok-sect-conf:

Секция ``vostok``
---------------------

Секция ``vostok`` включает все остальные секции настроек блокчейна, а также следующие отдельные параметры:

* ``waves-crypto`` - тип :ref:`шифрования <cryptography>` в блокчейне. Возможные значения: ``yes`` - выбор криптографии Waves, ``no`` - выбор ГОСТ-криптографии.
* ``directory`` - основная директория для хранения ПО ноды. В данном параметре указывается путь к директории в формате, приемлемом для текущей ОС.
* ``data-directory`` - директория для хранения данных блокчейна в LevelDB: блоки, транзакции, стейт ноды. В данном параметре указывается путь к директории в формате, приемлемом для текущей ОС.
* ``leveldb-cache-size`` - ограничение размера кэш-памяти, используемой для валидации блоков. Значение параметра числовое. Низкое значение уменьшает загрузку памяти, более высокое значение вместе с потреблением памяти увеличивает производительность ноды. Значение ``0`` отключает кэширование.
* ``max-cache-size`` - максимальный объём кэш-памяти. Значение параметра числовое. 
* ``max-rollback-depth`` - количество блоков, на которые можно 
* ``remember-blocks-interval-in-cache`` - количество запоминаемых блоков в кэш-памяти. 
* ``ntp-server`` - адрес NTP-сервера.
* ``logging-level`` - уровень логирования работы ноды. Возможные значения: ``DEBUG``, ``INFO``, ``WARN``, ``ERROR``, по умолчанию установлено значение ``INFO``.
* ``owner-address`` - адрес ноды, которая будет владельцем конфигурационного файла. Значение параметра строковое.
* ``scheduler-service.enable`` - активация :ref:`анкоринга <anchoring>`. Формат значений: ``yes`` или ``no``.

.. _blockchain-sect-conf:

Секция ``blockchain``
-----------------------

Секция отвечает за основные параметры блокчейна и включает в себя следующие параметры:

* ``type`` - тип блокчейна. Возможные значения ``DEFAULT`` или ``CUSTOM``.
* ``consensus.type`` - тип :ref:`консенсуса <consensus>` в блокчейне. Возможные значения ``PoS`` или ``PoA``.
* ``fee`` - список :ref:`комиссий <transaction-structure>` за транзакции в блокчейне.

При выборе типа блокчейна ``CUSTOM`` появляется дополнительная возможность на

* ``address-scheme-character`` - байт сети, для "Vostok Mainnet" - ``V``, для "Vostok Partnernet" - ``P``.
* ``functionality`` - настройка основных параметров блокчейна.
* ``genesis`` - настройка параметров генезис-блока.

**Секция ``functionality``**

* ``feature-check-blocks-period`` - количество блоков, через которые выполняется проверка и активация опций блокчейна. Значение параметра числовое.
* ``blocks-for-feature-activation`` - количество блоков, через которые применяется активированная опция. Значение параметра числовое.
* ``pre-activated-features`` - 
* ``double-features-periods-after-height`` - 

**Секция ``genesis``**

* ``average-block-delay`` - средняя задержка создания блоков. Значение указывается в секундах.
* ``initial-base-target`` - 
* ``timestamp`` - числовой код даты и времени. Значение параметра числовое.
* ``block-timestamp`` - 
* ``initial-balance`` - начальный баланс сети. Значение параметра числовое.
* ``genesis-public-key-base-58`` - хеш публичного ключа генезис-блока, зашифрованный в Base58. Значение параметра строковое.
* ``signature`` - хеш подписи генезис-блока. Значение параметра строковое.
* ``transactions`` - список участников сети с первоначальным балансом, создание которых войдёт в генезис-блок в виде генезис-транзакций. Значение параметра - массив.
* ``network-participants`` - список сетевых участников с ролями, создание которых войдёт в генезис-блок в виде генезис-транзакций. Значение параметра - массив.

Секция ``network``
-------------------------

Секция содержит сетевые настройки и включает в себя следующие параметры:

* ``file`` - путь к файлу с адресами известных участников сети и участников, доступ в сеть которым запрещён (blacklist). В данном параметре указывается путь к директории в формате, приемлемом для текущей ОС.
* ``bind-address`` - сетевой адрес ноды. Значение параметра строковое.
* ``port`` - номер порта. Значение параметра числовое.
* ``node-name`` - имя ноды для отправки во время процедуры handshake.
* ``nonce`` - 
* ``known-peers`` - список известных сетевых адресов нод. Значение параметра - массив.
* ``declared-address`` - сетевой адрес ноды вместе с номером порта. Значение параметра строковое.
* ``peers-data-residence-time`` - период хранения информации о пирах в БД с момента последнего контакта с ними.
* ``black-list-residence-time`` - 
* ``break-idle-connections-timeout``
* ``max-inbound-connections``
* ``max-outbound-connections``
* ``max-single-host-connections``
* ``tx-buffer-size``
* ``connection-timeout``
* ``max-unverified-peers``
* ``enable-peers-exchange``
* ``enable-blacklisting``
* ``peers-broadcast-interval``
* ``handshake-timeout``
* ``suspension-residence-time``
* ``received-txs-cache-timeout``












